<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<script src="address.js" defer></script>
		<script src="suffixArrayTests.js" defer></script>
		<style>
			* {
				font-family: sans-serif;
			}
			input {
				font-size: larger;
				font-weight: 300;
				padding: 7px 10px;
				border-radius: 5px;
				border: 1px solid rgb(203, 203, 203);
			}
			label {
				font-size: larger;
				font-weight: 500;
				margin: 20px 0 5px 0px;
			}
			button {
				font-size: large;
				font-weight: 500;
				padding: 10px 30px;
				width: fit-content;
				margin-top: 20px;
				cursor: pointer;
				background-color: dimgrey;
				color: white;
				border-radius: 10px;
				margin-inline: auto;
				border: none;
			}
			button:hover {
				background-color: grey;
			}
			form.output input {
				background-color: rgb(94, 94, 94);
				color: white;
			}
			ul {
				list-style: none;
				padding: 0;
				margin: 0px;
				justify-content: center;
				cursor: pointer;
				margin: 5px;
			}
			ul li:has(input[type="radio"]) {
				margin: 5px 2px;
				text-align: center;
				justify-content: center;
				align-items: center;
				vertical-align: middle;
				border: 2 px solid black !important;
				width: fit-content;
				height: fit-content;
				cursor: pointer;
				background-color: rgb(226, 226, 226);
				color: black;
				padding: 3px 12px;
				border-radius: 999px;
				text-align: center;
				line-height: 100%;
			}
			li:has(input[type="radio"]) label {
				font-size: medium;
				cursor: pointer;
				font-weight: unset;
			}
			input[type="radio"] {
				/* margin: auto 10px; */
				margin-block: auto;
				display: none;
				justify-self: auto;
			}
			li:has(input[type="radio"]:hover) {
				background-color: rgb(183, 203, 162);
			}
			li:has(input[type="radio"]:checked) {
				background-color: rgb(86, 158, 13);
				color: white;
				cursor: pointer;
			}
			option {
				font-size: 1.5rem;
				font-weight: 300;
				cursor: pointer !important;
			}

			div.indiv-outputs li {
				min-width: 200px;
				width: fit-content;
				display: flex;
				flex-direction: row;
			}
			div.indiv-outputs li {
				width: 100%;
				display: flex;
				flex-direction: row;
			}
			div.indiv-outputs label {
				font-weight: 600;
				margin: 0;
			}
			div.indiv-outputs span {
				display: flex;
				width: max-content;
				margin-left: 20px;
				font-size: larger;
				margin-top: 2px;
				color: #999999;
			}
			select:invalid,
			select[value=""] {
				color: #999999;
			}
			div#Addr_2_Inputs_Container,
			div#Addr_2_Input_Options_Container {
				display: none;
			}
			li,
			label,
			input,
			select,
			option {
				-webkit-touch-callout: none; /* iOS Safari */
				-webkit-user-select: none; /* Safari */
				-khtml-user-select: none; /* Konqueror HTML */
				-moz-user-select: none; /* Old versions of Firefox */
				-ms-user-select: none; /* Internet Explorer/Edge */
				user-select: none;
			}
			.ln1-input-invalid-alert,
			.ln3-input-invalid-alert {
				display: none;
				margin-left: auto;
			}
			input:focus::placeholder {
				color: rgb(239, 239, 239);
			}
		</style>
		<title>Address</title>
	</head>
	<body style="display: flex; flex-direction: row">
		<form
			style="
				border: rgb(94, 94, 94) 2px solid;
				padding: 15px;
				border-radius: 20px;
				display: flex;
				flex-direction: column;
				width: 600px;
				margin-inline: auto;
				margin-top: 40px;
				font-size: 20px;
				position: relative;
				box-sizing: border-box;
			">
			<h1 style="margin: 20px 0 10px 0">Address Input</h1>

			<div style="display: flex; flex-direction: column; width: 100%; height: auto; position: absolute; right: 0; width: fit-content">
				<div id="country" style="display: flex; flex-direction: row">
					<h5 style="margin: auto; height: 100%">Country:</h5>
					<ul style="display: flex; flex-direction: row; font-size: medium">
						<li>
							<label for="Addr_Country_USA">USA</label
							><input type="radio" id="Addr_Country_USA" name="country" value="USA" checked />
						</li>
						<li>
							<label for="Addr_Country_CAN">CAN</label><input type="radio" id="Addr_Country_CAN" name="country" value="CAN" />
						</li>
						<li>
							<label for="Addr_Country_MEX">MEX</label><input type="radio" id="Addr_Country_MEX" name="country" value="MEX" />
						</li>
					</ul>
				</div>
				<div class="indicates-required" style="font-size: medium; color: #999999; text-align: right; margin: 5px 15px">
					<span class="asterisk" style="color: red">* </span>indicates required
				</div>
			</div>

			<div id="US-address" style="display: flex; flex-direction: column; width: 100%; height: auto">
				<label for="address"><span class="asterisk" style="color: red; font-weight: 600">* </span>Addr_1:</label>
				<input type="text" id="Addr_1" placeholder="# W. Sandy Rd" required />
				<label
					for="Addr_1"
					class="ln1-input-invalid-alert"
					style="font-size: medium; margin-top: 4px; color: red; text-align: right"
					>The address provided is invalid!</label
				>

				<div id="Addr_2_Container" style="display: flex; flex-direction: column; margin-top: 20px">
					<div style="display: flex; flex-direction: row">
						<label for="Addr_2_Options_Container" style="display: flex; line-height: 100%; margin-block: auto">Addr_2:</label>
						<div
							id="Addr_2_Options_Container"
							style="display: flex; flex-direction: row; width: fit-content; height: 80%; padding: 0; margin-left: auto">
							<ul
								style="
									display: flex;
									flex-direction: row;
									align-items: center;
									margin-left: auto;
									padding: 3px 0 3px 5px;
									border: 1px solid rgb(213, 213, 213);
									border-radius: 50px;
								">
								<label for="" style="font-size: small; font-weight: 600; text-align: start; margin: 0px 0px 0 5px"
									>Options:</label
								>
								<li>
									<label for="Addr_Ln_2_None">None</label>
									<input type="radio" name="Addr_Ln_2" id="Addr_Ln_2_None" value="" checked />
								</li>
								<li>
									<label for="Addr_Ln_2_Floor"># Floor</label>
									<input type="radio" name="Addr_Ln_2" id="Addr_Ln_2_Floor" value="floor" />
								</li>
								<li>
									<label for="Addr_Ln_2_Suite">Suite #</label>
									<input type="radio" name="Addr_Ln_2" id="Addr_Ln_2_Suite" value="suite" />
								</li>
								<li>
									<label for="Addr_Ln_2_Mailstop">Mailstop</label>
									<input type="radio" name="Addr_Ln_2" id="Addr_Ln_2_Mailstop" value="mailstop" />
								</li>
								<li>
									<label for="Addr_Ln_2_Other">Other</label>
									<input type="radio" name="Addr_Ln_2" id="Addr_Ln_2_Other" value="ln_2_other" />
								</li>
							</ul>
						</div>
					</div>

					<div id="Addr_2_Inputs_Container" style="flex-direction: row; margin-top: 10px">
						<div
							style="
								display: flex;
								flex-direction: column;
								margin-inline: auto;
								height: 90px;
								position: relative;
								width: 100%;
								min-width: 302px;
								margin-left: auto;
							">
							<label for="bld_type_select" style="margin: 0; width: 307px; margin-left: auto">Building Type</label>
							<div
								class="styled-select"
								style="
									overflow: -moz-hidden-unscrollable;
									background: url(https://i.ibb.co/cy3tFx8/Dropdown5.png) no-repeat right white;
									background-size: 22px auto;
									background-position: right 10px center;
									display: inline-block;
									position: relative;
									width: auto;
									margin-block: auto;
									margin-left: auto;
								">
								<select
									type="select"
									id="bld_type_select"
									value=""
									style="
										-webkit-appearance: none;
										-moz-appearance: none;
										appearance: none;
										padding: 0 15px;
										font-size: 20px;
										min-width: fit-content;
										max-width: 100%;
										height: 35px;
										padding-right: 40px;
										margin-block: auto;
										border-radius: 7px;
										border: 1px solid rgb(227, 227, 227);
										box-shadow: 1px 0px 5px 1px rgb(226, 226, 226);
										cursor: pointer;
										border-bottom: rgb(205, 205, 205) 1px solid;
										background-color: transparent;
									">
									<option value="" disabled selected="selected">-- SELECT --</option>
									<option value="Building" data-label-abr="Bldg " data-label-mail="BLDG" default>Building</option>
									<option value="MOB" data-label-abr="MOB " data-label-mail="MOB">Medical Office Building</option>
									<option value="POB" data-label-abr="POB" data-label-mail="POB">Proffessional Office Building</option>
									<option value="Plaza" data-label-abr="Plz" data-label-mail="PLZ">Plaza</option>
									<option value="Physician's Building" data-label-abr="P.B." data-label-mail="PB">
										Physician's Building
									</option>
									<option value="Pavilian" data-label-abr="Pav." data-label-mail="PAV">Pavilian</option>
									<option value="Medical Pavilian" data-label-abr="M.P." data-label-mail="MP">Medical Pavilian</option>
									<option value="Office Pavilian" data-label-abr="O.P." data-label-mail="OP">Office Pavilian</option>
									<option value="Dept" data-label-abr="Dep." data-label-mail="DEP">Department</option>
									<option value="Apt" data-label-abr="Apt." data-label-mail="APT">Apartment</option>
									<option value="Rm" data-label-abr="Room" data-label-mail="ROOM">Room</option>
									<option value="Unit" data-label-abr="Unit" data-label-mail="Unit">Unit</option>
								</select>
							</div>
						</div>
						<div
							style="
								display: flex;
								flex-direction: column;
								margin-inline: auto;
								justify-content: space-between;
								margin: 0 10px 0 25px;
								width: max(50%, 102px);
							">
							<label for="bld_type_select" style="margin: 0px; white-space: nowrap"
								><span id="variable_Bld_Lbl">Bldg</span> #</label
							>
							<input
								type="text"
								placeholder="Bldg #"
								id="Addr_Ln_2_Bld_Num"
								style="width: max(80px, 75%); margin: 0 0 9px 0px" />
						</div>
						<div id="Addr_2_Input_Options_Container" style="display: flex; flex-direction: row; margin-inline: auto">
							<div id="floor-container" style="flex-direction: column; margin-inline: auto">
								<label for="Addr_Ln_2_Floor" style="margin: 0"
									><span class="asterisk" style="color: red; font-weight: 600">* </span>Floor #</label
								>
								<input
									type="text"
									name="Addr_Ln_2"
									id="Addr_Ln_2_Floor"
									placeholder="Floor"
									style="width: max(79%, 100px); margin-block: auto" />
							</div>
							<div id="suite-container" style="display: flex; flex-direction: column; margin-inline: auto">
								<label for="Addr_Ln_2_Suite" style="margin: 0"
									><span class="asterisk" style="color: red; font-weight: 600">* </span>Suite #</label
								>
								<input
									type="text"
									name="Addr_Ln_2"
									id="Addr_Ln_2_Suite"
									placeholder="Suite"
									style="width: max(79%, 100px); margin-block: auto" />
							</div>
							<div id="mailstop-container" style="display: flex; flex-direction: column; margin-inline: auto">
								<label for="Addr_Ln_2_Mailstop" style="margin: 0"
									><span class="asterisk" style="color: red; font-weight: 600">* </span>Mailstop</label
								>
								<input
									type="text"
									name="Addr_Ln_2"
									id="Addr_Ln_2_Mailstop"
									placeholder="Mailstop"
									style="width: max(79%, 100px); margin-block: auto" />
							</div>
						</div>
					</div>
					<script defer>
						// Line 2 Option Show / Hide
						const addrLn2RadioBtns = document.querySelectorAll('input[name="Addr_Ln_2"]');
						const addrLn2InputsContainer = document.querySelector("#Addr_2_Inputs_Container");
						const addrLn2InputOptionsContainer = document.querySelector("#Addr_2_Input_Options_Container");
						const floorQ = document.querySelector("#floor-container");
						const suiteQ = document.querySelector("#suite-container");
						const mailstopQ = document.querySelector("#mailstop-container");

						const mailstopInput = addrLn2RadioBtns.forEach((btn) =>
							btn.addEventListener("click", () => {
								const addrLn2RadioBtnSelected = document.querySelector('input[name="Addr_Ln_2"]:checked');

								if (addrLn2RadioBtnSelected.value) {
									addrLn2InputsContainer.style.display = "flex";
									addrLn2InputOptionsContainer.style.display = "flex";
								} else {
									addrLn2InputsContainer.style.display = "none";
								}

								const thisSelect = document.getElementById("bld_type_select");

								if (addrLn2RadioBtnSelected.value === "floor") {
									floorQ.style.display = "flex";
									suiteQ.style.display = "none";
									mailstopQ.style.display = "none";
									//Remove values of other inputs
									suiteQ.querySelector('input[name="Addr_Ln_2"]').value = "";
									mailstopQ.querySelector('input[name="Addr_Ln_2"]').value = "";
								} else if (addrLn2RadioBtnSelected.value === "suite") {
									floorQ.style.display = "none";
									suiteQ.style.display = "flex";
									mailstopQ.style.display = "none";
									//Remove values of other inputs
									floorQ.querySelector('input[name="Addr_Ln_2"]').value = "";
									mailstopQ.querySelector('input[name="Addr_Ln_2"]').value = "";
								} else if (addrLn2RadioBtnSelected.value === "mailstop") {
									floorQ.style.display = "none";
									suiteQ.style.display = "none";
									mailstopQ.style.display = "flex";
									//Remove values of other inputs
									floorQ.querySelector('input[name="Addr_Ln_2"]').value = "";
									suiteQ.querySelector('input[name="Addr_Ln_2"]').value = "";
								} else {
									addrLn2InputOptionsContainer.style.display = "none";
									floorQ.querySelector('input[name="Addr_Ln_2"]').value = "";
									suiteQ.querySelector('input[name="Addr_Ln_2"]').value = "";
									mailstopQ.querySelector('input[name="Addr_Ln_2"]').value = "";

									// handle the value and the selected option for the select element
									thisSelect.options[0].selected = "selected";
									thisSelect.setAttribute("value", "");
									// Applies the "-- SELECT --" text to the select element when deselected
									thisSelect.value = thisSelect.options[0].value;
									thisSelect.style.color = "#999";
								}
							})
						);
					</script>
				</div>

				<label for="address"><span class="asterisk" style="color: red; font-weight: 600">* </span>Addr_3:</label>
				<input type="text" id="Addr_3" placeholder="city, state, zip/postal" required />
				<label
					for="Addr_3"
					class="ln3-input-invalid-alert"
					style="font-size: medium; margin-top: 4px; color: red; text-align: right"
					>The address provided is invalid!</label
				>
				<button type="submit">Format</button><br /><br />
			</div>
			<select name="" id="">
				<option value="">opt 1</option>
				<option value="">opt 2</option>
			</select>
			<script defer></script>
		</form>
		<div id="outputs" style="flex-direction: column; display: flex">
			<div class="indiv-outputs" style="border: 2px solid green; border-radius: 20px; padding: 20px; width: fit-content">
				<ul style="display: flex; flex-direction: column">
					<li><label for="addNum">AddNum:</label> <span id="addNum"></span></li>
					<li><label for="addPrefix">Prefix:</label> <span id="addPrefix"></span></li>
					<li><label for="addStreet">Street:</label> <span id="addStreet"></span></li>
					<li><label for="addType">StreetType:</label> <span id="addStType"></span></li>
					<li><label for="addSuffix">Suffix:</label> <span id="addSuffix"></span></li>
					<li><label for="addApptNum">ApptNum:</label> <span id="addAppNum"></span></li>
					<hr />
					<li><label for="addBldgType">BldgType:</label> <span id="addBldgType"></span></li>
					<li><label for="addBldgNum">BldgNum:</label> <span id="addBldgNum"></span></li>
					<li><label for="addMailstop">Mailstop:</label> <span id="addMailstop"></span></li>
					<hr />
					<li><label for="addCIty">City:</label> <span id="addCIty"></span></li>
					<li><label for="addState">State:</label> <span id="addState"></span></li>
					<li><label for="addZip">Zip:</label> <span id="addZip"></span></li>
					<li><label for="addCountry">Country:</label> <span id="addCountry"></span></li>
				</ul>
			</div>

			<!-- 
            Move the required labels to match the non required labels 
            Add a custom alert if all required fields are not filled out
        -->

			<form class="output" style="display: flex; flex-direction: column; width: 400px; margin-top: 5px; font-size: 14px">
				<h2>Formatted into existing website</h2>
				<input type="text" id="address-ln-1-out" placeholder="address Ln 1 + 2" disabled />
				<input type="text" id="addr-city-out" placeholder="City" disabled />
				<input type="text" id="addr-state-out" placeholder="State" disabled />
				<input type="text" id="addr-zip-out" placeholder="Zip" disabled />
				<input type="text" id="addr-country-out" placeholder="Country" disabled />
			</form>
		</div>
		<script defer>
			// Website link to all Suffixes:
			const regex =
				/^([0-9\s\.\-\/]{1,9})\s(N\.?\s|S\.?\s|E\.?\s|W\.?\s|NE\.?\s|NW\.?\s|SE\.?\s|SW\.?|North\s|South\s|East\s|West\s|NorthEast\s|NorthWest\s|SouthEast\s|SouthWest\s)?([0-9a-zA-Z\s\.\-\'\/]+)\s(ALLEE\.?|ALLEY|ALLY\.?|ALY\.?|ANEX\.?|ANNEX|ANNX\.?|ANX\.?|ARC\.?|ARCADE|AV\.?|AVE\.?|AVEN\.?|AVENU\.?|AVENUE|AVN\.?|AVNUE\.?|BAYOO\.?|BAYOU|BCH\.?|BEACH|BEND|BND\.?|BLF\.?|BLUF\.?|BLUFF|BLUFFS|BOT\.?|BTM\.?|BOTTM\.?|BOTTOM|BLVD\.?|BOUL\.?|BOULEVARD|BOULV\.?|BR\.?|BRNCH\.?|BRANCH|BRDGE\.?|BRG\.?|BRIDGE|BRK\.?|BROOK|BROOKS|BURG|BURGS|BYP\.?|BYPA\.?|BYPAS\.?|BYPASS|BYPS\.?|CAMP|CP\.?|CMP\.?|CANYN\.?|CANYON|CNYN\.?|CAPE\.?|CPE\.?|CAUSEWAY|CAUSWA\.?|CSWY\.?|CEN\.?|CENT\.?|CENTER|CENTR\.?|CENTRE\.?|CNTER\.?|CNTR\.?|CTR\.?|CENTERS|CIR\.?|CIRC\.?|CIRCL\.?|CIRCLE|CRCL\.?|CRCLE\.?|CIRCLES|CLF\.?|CLIFF|CLFS\.?|CLIFFS|CLB\.?|CLUB|COMMON|COMMONS|COR\.?|CORNER|CORNERS|CORS\.?|COURSE|CRSE\.?|COURT\.?|CT\.?|COURTS|CTS\.?|COVE|CV\.?|COVES|CREEK|CRK\.?|CRESCENT|CRES\.?|CRSENT\.?|CRSNT\.?|CREST|CROSSING|CRSSNG\.?|XING\.?|CROSSROAD|CROSSROADS|CURVE|DALE|DL\.?|DAM\.?|DM\.?|DIV\.?|DIVIDE|DV\.?|DVD\.?|DR\.?|DRIV\.?|DRIVE|DRV\.?|DRIVES|EST\.?|ESTATE|ESTATES|ESTS\.?|EXP\.?|EXPR\.?|EXPRESS\.?|EXPRESSWAY|EXPW\.?|EXPY\.?|EXT\.?|EXTENSION|EXTN\.?|EXTNSN\.?|EXTS\.?|FALL\.?|FALLS|FLS\.?|FERRY|FRRY\.?|FRY\.?|FIELD|FLD\.?|FIELDS|FLDS\.?|FLAT|FLT\.?|FLATS|FLTS\.?|FORD|FRD\.?|FORDS|FOREST|FORESTS|FRST\.?|FORG\.?|FORGE|FRG\.?|FORGES|FORK|FRK\.?|FORKS|FRKS\.?|FORT|FRT\.?|FT\.?|FREEWAY|FREEWY\.?|FRWAY\.?|FRWY\.?|FWY\.?|GARDEN|GARDN\.?|GRDEN\.?|GRDN\.?|GARDENS|GDNS\.?|GRDNS\.?|GATEWAY|GATEWY\.?|GATWAY\.?|GTWAY\.?|GTWY\.?|GLEN|GLN\.?|GLENS|GREEN\.?|GRN\.?|GREENS|GROV\.?|GROVE|GRV\.?|GROVES|HARB\.?|HARBOR|HARBR\.?|HBR\.?|HRBOR\.?|HARBORS|HAVEN|HVN\.?|HT\.?|HTS\.?|HIGHWAY|HIGHWY\.?|HIWAY\.?|HIWY\.?|HWAY\.?|HWY\.?|HILL|HL\.?|HILLS|HLS\.?|HLLW\.?|HOLLOW\.?|HOLLOWS|HOLW\.?|HOLWS\.?|INLT\.?|IS\.?|ISLAND|ISLND\.?|ISLANDS|ISLNDS\.?|ISS\.?|ISLE\.?|ISLES|JCT\.?|JCTION\.?|JCTN\.?|JUNCTION|JUNCTN\.?|JUNCTON\.?|JCTNS\.?|JCTS\.?|JUNCTIONS|KEY|KY\.?|KEYS|KYS\.?|KNL\.?|KNOL\.?|KNOLL|KNLS\.?|KNOLLS|LK\.?|LAKE|LKS\.?|LAKES|LAND\.?|LANDING|LNDG\.?|LNDNG\.?|LANE|LN\.?|LGT\.?|LIGHT|LIGHTS|LF\.?|LOAF|LCK\.?|LOCK|LCKS\.?|LOCKS|LDG\.?|LDGE\.?|LODG\.?|LODGE|LOOP|LOOPS|MALL|MNR\.?|MANOR|MANORS|MNRS\.?|MEADOW|MDW\.?|MDWS\.?|MEADOWS|MEDOWS|MEWS|MILL|MILLS|MISSN\.?|MSSN\.?|MOTORWAY|MNT\.?|MT\.?|MOUNT|MNTAIN\.?|MNTN\.?|MOUNTAIN|MOUNTIN\.?|MTIN\.?|MTN\.?|MNTNS\.?|MOUNTAINS|NCK\.?|NECK|ORCH\.?|ORCHARD|ORCHRD|OVAL|OVL\.?|OVERPASS|PARK|PRK\.?|PARKS|PARKWAY|PARKWY\.?|PKWAY\.?|PKWY\.?|PKY\.?|PARKWAYS|PKWYS\.?|PASS|PASSAGE|PATH|PATHS|PIKE|PIKES|PINE|PINES|PNES\.?|PL\.?|PLAIN|PLN\.?|PLAINS|PLNS\.?|PLAZA|PLZ\.?|PLZA\.?|POINT|PT\.?|POINTS|PTS\.?|PORT|PRT\.?|PORTS|PRTS\.?|PR\.?|PRAIRIE|PRR\.?|RAD\.?|RADIAL|RADIEL\.?|RADL\.?|RAMP|RANCH|RANCHES|RNCH\.?|RNCHS\.?|RAPID|RPD\.?|RAPIDS|RPDS\.?|REST|RST\.?|RDG\.?|RDGE\.?|RIDGE|RDGS\.?|RIDGES|RIV\.?|RIVER|RVR\.?|RIVR\.?|RD\.?|ROAD|ROADS|RDS\.?|ROUTE|ROW|RUE\.?|RUN\.?|SHL\.?|SHOAL|SHLS\.?|SHOALS|SHOAR\.?|SHORE|SHR\.?|SHOARS\.?|SHORES|SHRS\.?|SKYWAY|SPG\.?|SPNG\.?|SPRING|SPRNG\.?|SPGS\.?|SPNGS\.?|SPRINGS|SPRNGS\.?|SPUR|SPURS|SQ\.?|SQR\.?|SQRE\.?|SQU\.?|SQUARE|SQRS\.?|SQUARES|STA\.?|STATION|STATN\.?|STN\.?|STRA\.?|STRAV\.?|STRAVEN\.?|STRAVENUE|STRAVN\.?|STRVN\.?|STRVNUE\.?|STREAM|STREME\.?|STRM\.?|STREET|STRT\.?|ST\.?|STR\.?|STREETS|SMT\.?|SUMIT\.?|SUMITT\.?|SUMMIT|TER\.?|TERR\.?|TERRACE|THROUGHWAY|TRACE\TRACES|TRCE\.?|TRACK|TRACKS|TRAK\.?|TRK\.?|TRKS\.?|TRAFFICWAY|TRAIL|TRAILS|TRL\.?|TRLS\.?|TRAILER|TRLR\.?|TRLRS\.?|TUNEL\.?|TUNL\.?|TUNLS\.?|TUNNEL|TUNNELS|TUNNL\.?|TRNPK\.?|TURNPIKE|TURNPK\.?|UNDERPASS|UN\.?|UNION|UNIONS|VALLEY|VALLY|VLLY\.?|VLY\.?|VALLEYS|VLYS\.?|VDCT\.?|VIA\.?|VIADCT\.?|VIADUCT|VIEW|VW\.?|VIEWS|VWS\.?|VILL\.?|VILLAG\.?|VILLAGE|VILLG\.?|VILLIAGE|VLG\.?|VILLAGES|VLGS\.?|VILLE\.?|VL\.?|VIS\.?|VIST\.?|VISTA|VST\.?|VSTA\.?|WALK|WALKS|WALL|WY\.?|WAY|WAYS|WELL|WELLS|WLS\.?)\,?\s?\b(N\.?|S\.?|E\.?|W\.?|NE\.?|NW\.?|SE\.?|SW\.?|North|South|East|West|NorthEast|NorthWest|SouthEast|SouthWest)?\b\,?\s?(\#?[0-9a-zA-Z\s\.\-\']{1,6})?$/i;
			const regex2 = /^(PO BOX|RR|HC|Unit)\s([a-z,0-9,A-Z]{1,9})\s?(#?[0-9a-zA-Z\s\.\-\']{1,6})?\s?$/i;
			const regex3 =
				/^([0-9a-zA-Z\s\.\-\']+)\,?\s\b(?:(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY]|Alabama|Alaska|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|Florida|Georgia|Hawaii|Idaho|Illinois|Indiana|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming))\b\,?\s([0-9]{5,5}|[0-9]{5,5}[-]?\s?[0-9]{4,4}?)$/i;
			const addr1 = document.getElementById("Addr_1");
			const addr2rNone = document.getElementById("Addr_Ln_2_None");
			const addr3 = document.getElementById("Addr_3");
			const lnOneAlert = document.querySelector(".ln1-input-invalid-alert");
			const lnThreeAlert = document.querySelector(".ln3-input-invalid-alert");
			const addNum = document.querySelector("#addNum");
			const addPre = document.querySelector("#addPrefix");
			const addName = document.querySelector("#addStreet");
			const addStType = document.querySelector("#addStType");
			const addSuf = document.querySelector("#addSuffix");
			const addApt = document.querySelector("#addAppNum");
			//===============================================
			const addBldType = document.querySelector("#addBldgType");
			const addBldNum = document.querySelector("#addBldgNum");
			//===============================================

			const addCity = document.querySelector("#addCIty");
			const addState = document.querySelector("#addState");
			const addZip = document.querySelector("#addZip");
			const addCountry = document.querySelector("#addCountry");

			const thisSelect = document.getElementById("bld_type_select");
			const varLabel = document.querySelector("#variable_Bld_Lbl");
			const varInput = document.querySelector("#Addr_Ln_2_Bld_Num");
			var selectedBldType = varInput;

			addr2rNone.addEventListener("click", (e) => {
				//check the value of addr 1 to determine if adderss or unit is described
				const oneSpacedInput = addr1.value.replace(/^\s+|\s+$|\s{2,}/g, function (match) {
					if (/^\s+|\s+$/.test(match)) {
						return ""; // Remove leading/trailing spaces
					} else {
						return " "; // Replace multiple spaces with a single space
					}
				});
				if (oneSpacedInput.match(regex)) {
					const [fullMatch, streetNumber, streetPrefix, streetName, streetType, streetSuffix, apmtNum] =
						oneSpacedInput.match(regex);
					if (apmtNum.length > 0 && apmtNum !== " " && apmtNum !== undefined) {
						addApt.textContent = apmtNum;
						addBldType.textContent = "";
						addBldNum.textContent = "";
						varInput.setAttribute("placeholder", apmtNum);
						console.log(selectedBldType);
						if (selectedBldType === "apt") {
							thisSelect.value = "apt";
							varInput.value = apmtNum;
						} else {
							varInput.value = "";
						}
					}
				} else if (addr2rNone.checked) {
					varInput.setAttribute("placeholder", "Bldg #");
					varInput.value = "";
					varLabel.textContent = "Bldg";
					thisSelect.setAttribute("value", "");
					thisSelect.style.color = "gray";
					addBldType.textContent = "";
					addBldNum.textContent = "";
				}
			});

			thisSelect.addEventListener("change", (e) => {
				const selectedValue = thisSelect[thisSelect.selectedIndex].value;
				thisSelect.setAttribute("value", selectedValue);
				thisSelect.style.color = "black";
				varLabel.textContent = thisSelect[thisSelect.selectedIndex].getAttribute("data-label-abr");
				varInput.setAttribute("placeholder", thisSelect[thisSelect.selectedIndex].getAttribute("data-label-abr") + " #");
				switch (selectedValue) {
					case "Apt":
						addBldType.textContent = "";
						break;
					case "Rm":
						addBldType.textContent = "";
						break;
					default:
						selectedBldType = selectedValue;
						addBldType.textContent = selectedBldType;
						break;
				}
			});

			varInput.addEventListener("keyup", (e) => {
				const selectedValue = thisSelect[thisSelect.selectedIndex].value;
				const input = e.target.value;
				const oneSpacedInput = input.replace(/^\s+|\s+$|\s{2,}/g, function (match) {
					if (/^\s+|\s+$/.test(match)) {
						return ""; // Remove leading/trailing spaces
					} else {
						return " "; // Replace multiple spaces with a single space
					}
				});
				varInput.addEventListener("blur", (e) => {
					if (input.length === 0 || regex2.test(oneSpacedInput)) {
						addBldNum.textContent = "";
					} else if (input.length > 0 && !regex2.test(oneSpacedInput)) {
						switch (selectedValue) {
							case "Apt":
								addApt.textContent = oneSpacedInput;
								addBldNum.textContent = "";
								break;
							case "Rm":
								addBldType.textContent = "";
								break;
							default:
								selectedBldType = selectedValue;
								addBldType.textContent = selectedBldType;
								break;
						}
					}
				});
			});

			addr3.addEventListener("keyup", (e) => {
				const input = e.target.value;
				const oneSpacedInput = input.replace(/^\s+|\s+$|\s{2,}/g, function (match) {
					if (/^\s+|\s+$/.test(match)) {
						return ""; // Remove leading/trailing spaces
					} else {
						return " "; // Replace multiple spaces with a single space
					}
				});
				addr3.addEventListener("blur", (e) => {
					if (input.length === 0 || regex3.test(oneSpacedInput)) {
						lnThreeAlert.style.display = "none";
					} else if (input.length > 0 && !regex3.test(oneSpacedInput)) {
						lnThreeAlert.style.display = "flex";
					}
				});
				if (regex3.test(oneSpacedInput)) {
					lnThreeAlert.style.display = "none";
					const [fullMatch, city, state, zip] = oneSpacedInput.match(regex3);
					addCity.textContent = city;
					addState.textContent = state;
					// return zip in either 12345 or 12345-1234 format
					zip.length === 5
						? (addZip.textContent = zip)
						: (addZip.textContent = zip.replace(/[ -]/g, "").substring(0, 5) + "-" + zip.replace(/[ -]/g, "").substring(5));
					addCountry.textContent = "USA";
				} else if (oneSpacedInput.length === 0) {
					addCity.textContent = "";
					addState.textContent = "";
					addZip.textContent = "";
					addCountry.textContent = "";
				} else {
					lnThreeAlert.style.display = "flex";
				}
			});

			addr1.addEventListener("keyup", (e) => {
				const input = e.target.value;
				const oneSpacedInput = input.replace(/^\s+|\s+$|\s{2,}/g, function (match) {
					if (/^\s+|\s+$/.test(match)) {
						return ""; // Remove leading/trailing spaces
					} else {
						return " "; // Replace multiple spaces with a single space
					}
				});
				if (regex.test(oneSpacedInput) || regex2.test(oneSpacedInput)) {
					lnOneAlert.style.display = "none";
				} else {
					lnOneAlert.style.display = "flex";
				}

				addr1.addEventListener("blur", (e) => {
					if (oneSpacedInput.length === 0 && regex.test(oneSpacedInput) == false) {
						addNum.textContent = "";
						addPre.textContent = "";
						addName.textContent = "";
						addStType.textContent = "";
						addSuf.textContent = "";
						addApt.textContent = "";
					} else if (oneSpacedInput.length > 0 && regex.test(oneSpacedInput) == false && regex2.test(oneSpacedInput) == true) {
						if (oneSpacedInput.match(regex2)) {
							const [fullMatch, poName, poNum] = oneSpacedInput.match(regex2);
							addNum.textContent = "";
							addPre.textContent = "";
							addName.textContent = poName;
							addStType.textContent = "";
							addSuf.textContent = "";
							addApt.textContent = poNum;
						}
					} else if (oneSpacedInput.length > 0 && regex.test(oneSpacedInput) == true) {
						lnOneAlert.style.display = "none";
						if (oneSpacedInput.match(regex)) {
							const [fullMatch, streetNumber, streetPrefix, streetName, streetType, streetSuffix, apmtNum] =
								oneSpacedInput.match(regex);
							addNum.textContent = streetNumber;
							addPre.textContent = streetPrefix;
							addName.textContent = streetName;
							addStType.textContent = streetType;
							addSuf.textContent = streetSuffix;
							addApt.textContent = apmtNum;
						} else {
							addNum.textContent = "";
							addPre.textContent = "";
							addName.textContent = poName;
							addStType.textContent = "";
							addSuf.textContent = "";
							addApt.textContent = poNum;
						}
					}
				});

				// const [streetNumber, streetPrefix, streetName, streetType, streetSuffix] = str.match(regex);
				// console.log({ streetNumber, streetPrefix, streetName, streetType, streetSuffix });
				// const [streetNumber, streetPrefix, streetName, streetType, streetSuffix] = input.match(
				// 	/^[0-9]{1,5} (N\.|S\.|E\.|W\.|NE\.|NW\.|SE\.|SW\.)? [0-9a-zA-Z]\s\.\-\']+( Ave\.| St\.| Rd\.| Blvd\.| Dr\.| Pkwy\.| Way)?( (N\.|S\.|E\.|W\.|NE\.|NW\.|SE\.|SW\.))?( North| South| East| West|NorthEast|NorthWest|SouthEast|SouthWest)?$/
				// );
				// indiv outputs

				// addStType.textContent = streetSuffix;

				// if (match) {
				// 	lnOneAlert.style.display = "flex";
				// } else {
				// 	lnOneAlert.style.display = "none";
				// 	lnOneAlert.style.marginLeft = "auto";
				// }
			});
		</script>
	</body>
</html>
